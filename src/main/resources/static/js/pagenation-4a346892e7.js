function pagenation(){function n(n){throw new Error(n)}function e(n){c.successCb(n),i()}function u(){i()}function i(){a.hide(),r.hide()}var t={},a=$(".page-mask"),r=$(".loading"),c={};return{init:function(e){e.url||n("请传入有效的数据请求URL"),c.url=e.url,c.perPage=e.perPage||1,c.isCache=null==e.isCache||!!e.isCache,c.successCb=e.successCb||function(){}},setOption:function(n,e){if(2!==arguments.length)return!1;c[n]=e},requestPage:function(n){var i,a="?";c.url.indexOf("?")>-1&&(a="&"),i=c.url+a+"page="+n+"&perPage="+c.perPage+"&_="+Math.random(),!1===c.isCache&&(t={}),null!=t[n]?e(t[n]):$.ajax({type:"GET",url:i,dataType:"JSON"}).then(function(n){e(n)},function(){u()})}}}